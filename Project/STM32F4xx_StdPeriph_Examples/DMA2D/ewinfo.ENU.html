<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:schemaLocation="http://www.w3.org/MarkUp/SCHEMA/xhtml11.xsd"
     xml:lang="en">
  <head>
    <title>Information Center for ARM</title>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <link type="text/css" rel="stylesheet" media="all" href="file://$TOOLKIT_DIR$/doc/infocenter/style/ewic.css" />
  </head>
  <body>
  <div id="topbanner"></div>
  <div id="titlebanner_small">
    <h2>Information Center for ARM</h2>
  </div>
  <div class="breadcrumb"><a href="$TOOLKIT_DIR$/doc/infocenter/index.ENU.html">Information Center for ARM</a> | EXAMPLES</div>
  <div class="mainblock">
   <h2>Example description</h2>

   <pre>  <!--Insert readme.txt-->
<span style="font-family: monospace;">
	DMA2D memory to memory with blending example

	Example Description

  This example provides a description of how to configure DMA2D peripheral in
  Memory_to_Memory with blending transfer mode.

  In this transfer mode two input sources are fitched : foreground and background.
  In this example, the foreground and background are configured as following :
   - input memory address at FLASH memory
   - Color mode : RGB565 format
   - The constant alpha for foreground is decreased to see the background.
   - The alpha mode for foreground and background is configured to see two
     superposed images in the resulting image.

  The DMA2D blends the two sources pixels to compute the resulting pixel.
  The transferred data to the output memory address is the result of the blending
  operation.

  In this example, the layer 1 is configured to display the DMA2D output buffer.
  (the result of the blending of the foreground and background)

	Directory contents

    - DMA2D/DMA2D_MemToMemWithBlending/main.h               Main configuration file
    - DMA2D/DMA2D_MemToMemWithBlending/stm32f4xx_it.h       Header for stm32f4xx_it.c
    - DMA2D/DMA2D_MemToMemWithBlending/stm32f4xx_conf.h     library configuration file
    - DMA2D/DMA2D_MemToMemWithBlending/RGB565_230x170_1.h   image used for DMAD2D validation
    - DMA2D/DMA2D_MemToMemWithBlending/RGB565_230x170_2.h   image used for DMAD2D validation
    - DMA2D/DMA2D_MemToMemWithBlending/main.c               Main program
    - DMA2D/DMA2D_MemToMemWithBlending/stm32f4xx_it.c       Interrupt handlers
    - DMA2D/DMA2D_MemToMemWithBlending/system_stm32f4xx.c   STM32F4xx system clock configuration file


	Hardware and Software environment
  - This example runs on STM32F429x/STM32F439x Devices.

  - This example has been tested with STMicroelectronics STM324x9I-EVAL (STM32F429x/
    STM32F439x Devices) evaluation boards and can be easily tailored to any other
    supported device and development board.


	How to use it ?
In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	  DMA2D memory to memory with LCD example

	Example Description

  This example provides a description of how to configure DMA2D peripheral in
  Memory_to_Memory transfer mode and display the result on LCD.

  In this basic example the goal is to explain the different fields of the DMA2D
  structure in the case of Memory_to_Memory transfer mode.

  After DMA2D configuration, the data transfer is performed from FLASH memory to
  SRAM and then the LCD is configured to display transferred picture on LCD.
  (more details about LCD configuration in LCD examples)

 => Output offset is the number of pixel to be skipped after each transferred line

 how to calculate the size of the transferred data ?
 => selected color mode gives the number of bits per pixel and we have
    (ARGB4444 => 16bits/pixel) the number of pixel per line and the number of line,
    therefore :

    data_size = (bits per pixel) X (pixel per line + output offset) X (number of line)


	Directory contents

    - DMA2D/DMA2D_MemToMemWithLCD/main.h               Main configuration file
    - DMA2D/DMA2D_MemToMemWithLCD/stm32f4xx_it.h       Header for stm32f4xx_it.c
    - DMA2D/DMA2D_MemToMemWithLCD/stm32f4xx_conf.h     library configuration file
    - DMA2D/DMA2D_MemToMemWithLCD/ARGB4444_64x59.h     Image to be transferred
    - DMA2D/DMA2D_MemToMemWithLCD/main.c               Main program
    - DMA2D/DMA2D_MemToMemWithLCD/stm32f4xx_it.c       Interrupt handlers
    - DMA2D/DMA2D_MemToMemWithLCD/system_stm32f4xx.c   STM32F4xx system clock configuration file


	Hardware and Software environment
  - This example runs on STM32F429x/STM32F439x Devices.

  - This example has been tested with STMicroelectronics STM324x9I-EVAL (STM32F429x/
    STM32F439x Devices) evaluation boards and can be easily tailored to any other
    supported device and development board.


	How to use it ?
In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	DMA2D memory to memory with PFC example

	Example Description

  This example provides a description of how to configure DMA2D peripheral in
  Memory_to_Memory with pixel format conversion transfer mode.

  In this basic example the goal is to explain the different fields of the DMA2D
  structure in the case of Memory_to_Memory with pixel format conversion transfer mode
  and the difference between pixel coded on 32bits and coded on 16bits.

  An image is transferred from flash memory to internal RAM and during the transfer,
  a pixel format conversion is applied from ARGB8888 to ARGB4444.
  The original image and the transferred image are displayed on the LCD to see
  the difference between an image coded on 16 bits and an image coded on 32 bits.

 In this example two LTDC layers are used to display the original and the converted
 images as following :
  - Layer 1 is configured to display the original image with ARGB8888 as
    pixel format and 320x120 size.
  - Layer 2 is configured to display the converted image with ARGB4444 as
    pixel format and 320x120 size.


   note :
  how to calculate the size of the transferred data ?
  => selected color mode gives the number of bits per pixel and we have
    the number of pixel per line and the number of line, therefore :

    data_size = (bits per pixel) X (pixel per line) X (number of line)

 How to convert pixel format from ARGB8888 to ARGB4444 ?
 => only the four MSB are taken into account
 eg : 0x AB  CD  12  34 --> 0x A   C   1   3
        |_| |_| |_| |_|       |_| |_| |_| |_|
         A   R   G   B         A   R   G   B

 In general,
 => if the number of bits per pixel in source data is more then the number of
    bits per pixel in destination data, only the MSB are taken into account

 => else, if the number of bits per pixel in source data is less then the number
    of bits per pixel in destination data, a bit replication of MSB in LSB is applied

    eg : from ARGB1555 to ARGB8888       PFC
    0xAB35 --> 0b1 01010 11001 10101   -------> 0b11111111 01010010 11001110 10101101
                 A   R     G     B          --> 0xFF       52       CE       AD

	Directory contents

    - DMA2D/DMA2D_MemToMemWithPFC/main.h               Main configuration file
    - DMA2D/DMA2D_MemToMemWithPFC/stm32f4xx_it.h       Header for stm32f4xx_it.c
    - DMA2D/DMA2D_MemToMemWithPFC/stm32f4xx_conf.h     library configuration file
    - DMA2D/DMA2D_MemToMemWithPFC/ARGB8888_300x120.h   image to be converted and transferred.
    - DMA2D/DMA2D_MemToMemWithPFC/main.c               Main program
    - DMA2D/DMA2D_MemToMemWithPFC/stm32f4xx_it.c       Interrupt handlers
    - DMA2D/DMA2D_MemToMemWithPFC/system_stm32f4xx.c   STM32F4xx system clock configuration file

	Hardware and Software environment
  - This example runs on STM32F429x/STM32F439x Devices.

  - This example has been tested with STMicroelectronics STM324x9I-EVAL (STM32F429x/
    STM32F439x Devices) evaluation boards and can be easily tailored to any other
    supported device and development board.


	How to use it ?
In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	  DMA2D register to memory with LCD example

	Example Description

 This example provides a description of how to configure DMA2D peripheral in
 Register_to_Memory transfer mode and display the result on LCD.

 The Register_to_Memory transfer mode, is used to fill a user defined area by a
 fixed color.

  After DMA2D configuration, the data transfer is performed and then the LCD is
  configured to display color zone created after this transfer on LCD.
  (more details about LCD configuration in LCD examples)

   note
  => Output offset is the number of pixel to be skipped after each transferred line

  how to calculate the size of the transferred data ?
  => selected color mode gives the number of bits per pixel and we have
     (ARGB4444 => 16bits/pixel) the number of pixel per line and the number of line,
     therefore :

     data_size = (bits per pixel) X (pixel per line + output offset) X (number of line)


	Directory contents

    - DMA2D/DMA2D_RegToMemWithLCD/main.h               Main configuration file
    - DMA2D/DMA2D_RegToMemWithLCD/stm32f4xx_it.h       Header for stm32f4xx_it.c
    - DMA2D/DMA2D_RegToMemWithLCD/stm32f4xx_conf.h     library configuration file
    - DMA2D/DMA2D_RegToMemWithLCD/main.c               Main program
    - DMA2D/DMA2D_RegToMemWithLCD/stm32f4xx_it.c       Interrupt handlers
    - DMA2D/DMA2D_RegToMemWithLCD/system_stm32f4xx.c   STM32F4xx system clock configuration file


	Hardware and Software environment
  - This example runs on STM32F429x/STM32F439x Devices.

  - This example has been tested with STMicroelectronics STM324x9I-EVAL (STM32F429x/
    STM32F439x Devices) evaluation boards and can be easily tailored to any other
    supported device and development board.


	How to use it ?
In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example

</span>
  </pre>
  </div>
  </body>
</html>

