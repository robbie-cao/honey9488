<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:schemaLocation="http://www.w3.org/MarkUp/SCHEMA/xhtml11.xsd"
     xml:lang="en">
  <head>
    <title>Information Center for ARM</title>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <link type="text/css" rel="stylesheet" media="all" href="file://$TOOLKIT_DIR$/doc/infocenter/style/ewic.css" />
  </head>
  <body>
  <div id="topbanner"></div>
  <div id="titlebanner_small">
    <h2>Information Center for ARM</h2>
  </div>
  <div class="breadcrumb"><a href="$TOOLKIT_DIR$/doc/infocenter/index.JPN.html">Information Center for ARM</a> | EXAMPLES</div>
  <div class="mainblock">
   <h2>Example description</h2>

   <pre>  <!--Insert readme.txt-->
<span style="font-family: monospace;">
	Encrypt and Decrypt data using AES Algo using CCM chaining mode

	Example Description

This example provides a short description of how to use the CRYPTO peripheral to
encrypt and decrypt data using AES with Combined Cipher Machine (CCM).
The AES-CCM mode requires:
1. Plaint text which will authenticated and encrypted. It's size must be a multiple
   of 16 bytes. So is the original plain text size is not a multiple of 16 bytes
   it must be padded.
2. Header (associated data) that will be authenticated but not encrypted.
   The header if formatted in HBuffer[]: the header size is concatenated with the
   original header.
3. Nonce a value that is used only once within a specified context. It's size must
   be 7, 8, 9, 10, 11, 12 or 13.
4. Key is the parameter which determines the cipher text. In this example the key
   size is 128 bits = 16 bytes but it can be tailored to 192 bits and 256 bits.

The AES-CCM provides:
1. Cipher text which is the encryption result of Plaint text. In this example, the
   cipher text is available in OutputText.
   It's size is the same as the plain text.
2. MAC: The Message Authentication Code which is used for both message authentication
   and message tampering detection. It's size is lower or equal to 16 bytes.

The Plain data, encrypted data (cipher text), authentication TAG (MAC) and
decrypted data can be displayed on a PC HyperTerminal using the USART.

The USARTx is configured as follow:
    - BaudRate = 115200 baud
    - Word Length = 8 Bits
    - One Stop Bit
    - No parity
    - Hardware flow control disabled (RTS and CTS signals)
    - Receive and transmit enabled


	Directory contents

  - CRYP/CRYP_AES_CCM/system_stm32f4xx.c   STM32F4xx system clock configuration file
  - CRYP/CRYP_AES_CCM/stm32f4xx_conf.h     Library Configuration file
  - CRYP/CRYP_AES_CCM/stm32f4xx_it.h       Interrupt handlers header file
  - CRYP/CRYP_AES_CCM/stm32f4xx_it.c       Interrupt handlers
  - CRYP/CRYP_AES_CCM/main.c               Main program
  - CRYP/CRYP_AES_CCM/main.h               Main header

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>


	Hardware and Software environment

  - This example runs on STM32F427x/STM32F437x and STM32F429x/STM32F439x Devices.

  - This example has been tested with STMicroelectronics STM32437I-EVAL (STM32F427x/STM32F437x Devices)
    and STM324x9I-EVAL (STM32F429x/STM32F439x Devices) evaluation boards and can be easily tailored to any
    other supported device and development board.

  - STM32437I-EVAL Set-up
    - Connect a null-modem female/female RS232 cable between the DB9 connector
      CN16 (USART3) and PC serial port.
       note Make sure that jumper JP22 is in position 1-2

  - STM324x9I-EVAL Set-up
    - Connect a null-modem female/female RS232 cable between the DB9 connector
      CN8 (USART1) and PC serial port.
       note Make sure that jumper JP7 is in position 1-2

  - Hyperterminal configuration:
    - Word Length = 8 Bits
    - One Stop Bit
    - No parity
    - BaudRate = 115200 baud
    - flow control: None


	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	Encrypt and Decrypt data using AES Algo using GCM chaining mode

	Example Description

This example provides a short description of how to use the CRYPTO peripheral to
encrypt and decrypt data using AES with Galois/Counter Mode (GCM).
The AES-GCM mode requires:
1. Plaint text which will authenticated and encrypted. It's size must be a multiple
   of 16 bytes. So is the original plain text size is not a multiple of 16 bytes
   it must be padded.
2. Header that will be authenticated but not encrypted. The header size must be
   multiple of 16 bytes whatever the key size.
3. Initialization vector a value that is used only once within a specified context.
   It must be padded to 16-byte length with LSB set to 2.
4. Key is the parameter which determines the cipher text. In this example the key
   size is 128 bits = 16 bytes but it can be tailored to 192 bits and 256 bits.

The AES-GCM provides:
1. Cipher text which is the encryption result of Plaint text. In this example, the
   cipher text is available in OutputText.
   It's size is the same as the plain text.
2. TAG: The Message Authentication Code which is used for both message authentication
   and message tampering detection. It's size is always 16 bytes.

The Plain data, encrypted data, authentication TAG (MAC) and decrypted data can
be displayed on a PC HyperTerminal using the USART.

The USARTx is configured as follow:
    - BaudRate = 115200 baud
    - Word Length = 8 Bits
    - One Stop Bit
    - No parity
    - Hardware flow control disabled (RTS and CTS signals)
    - Receive and transmit enabled


	Directory contents

  - CRYP/CRYP_AES_GCM/system_stm32f4xx.c   STM32F4xx system clock configuration file
  - CRYP/CRYP_AES_GCM/stm32f4xx_conf.h     Library Configuration file
  - CRYP/CRYP_AES_GCM/stm32f4xx_it.h       Interrupt handlers header file
  - CRYP/CRYP_AES_GCM/stm32f4xx_it.c       Interrupt handlers
  - CRYP/CRYP_AES_GCM/main.c               Main program
  - CRYP/CRYP_AES_GCM/main.h               Main header

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>


	Hardware and Software environment

  - This example runs on STM32F427x/STM32F437x and STM32F429x/STM32F439x Devices.

  - This example has been tested with STMicroelectronics STM32437I-EVAL (STM32F427x/STM32F437x Devices)
    and STM324x9I-EVAL (STM32F429x/STM32F439x Devices) evaluation boards and can be easily tailored to any
    other supported device and development board.

  - STM32437I-EVAL Set-up
    - Connect a null-modem female/female RS232 cable between the DB9 connector
      CN16 (USART3) and PC serial port.
       note Make sure that jumper JP22 is in position 1-2

  - STM324x9I-EVAL Set-up
    - Connect a null-modem female/female RS232 cable between the DB9 connector
      CN8 (USART1) and PC serial port.
       note Make sure that jumper JP7 is in position 1-2

  - Hyperterminal configuration:
    - Word Length = 8 Bits
    - One Stop Bit
    - No parity
    - BaudRate = 115200 baud
    - flow control: None


	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	Encrypt and Decrypt data using AES-128 Algo in ECB mode, with DMA

	Example Description

This example provides a short description of how to use the CRYPTO peripheral to
encrypt and decrypt data using AES-128 Algorithm.

For this example, DMA is used to transfer data from memory to the CRYPTO processor
IN FIFO and also to transfer data from CRYPTO processor OUT FIFO to memory.

The data to be encrypted is a 256-bit data (8 words), which correspond to 2x AES-128 Blocks.

This example behaves as below:
- AES Encryption   (PlainData --> EncryptedData)
- AES Key prepation for decryption (Encryption Key --> Decryption Key)
- AES Decryption (EncryptedData --> DecryptedData)

The Plain data, encrypted data and decrypted data can be displayed on a PC
HyperTerminal using the USART (CN16).

The USARTx is configured as follow:
    - BaudRate = 115200 baud
    - Word Length = 8 Bits
    - One Stop Bit
    - No parity
    - Hardware flow control disabled (RTS and CTS signals)
    - Receive and transmit enabled


	Directory contents

  - CRYP/AES_ECBmode_DMA/system_stm32f4xx.c   STM32F4xx system clock configuration file
  - CRYP/AES_ECBmode_DMA/stm32f4xx_conf.h     Library Configuration file
  - CRYP/AES_ECBmode_DMA/stm32f4xx_it.h       Interrupt handlers header file
  - CRYP/AES_ECBmode_DMA/stm32f4xx_it.c       Interrupt handlers
  - CRYP/AES_ECBmode_DMA/main.c               Main program

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.0.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>


	Hardware and Software environment

  - This example runs on STM32F40xx/STM32F41xx, STM32F427x/STM32F437x,
    STM32F429x/STM32F439x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL (STM32F40xx/
    STM32F41xx Devices), STM32437I-EVAL (STM32F427x/STM32F437x Devices) and STM324x9I-EVAL
    (STM32F429x/STM32F439x Devices) evaluation boards and can be easily tailored to any
    other supported device and development board.

  - STM324xG-EVAL and STM32437I-EVAL Set-up
    - Connect a null-modem female/female RS232 cable between the DB9 connector
      CN16 (USART3) and PC serial port.
       note Make sure that jumper JP22 is in position 1-2

  - STM324x9I-EVAL Set-up
    - Connect a null-modem female/female RS232 cable between the DB9 connector
      CN8 (USART1) and PC serial port.
       note Make sure that jumper JP7 is in position 1-2

  - Hyperterminal configuration:
    - Word Length = 8 Bits
    - One Stop Bit
    - No parity
    - BaudRate = 115200 baud
    - flow control: None


	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	Encrypt and Decrypt data using AES Algo in chaining modes and all key sizes

	Example Description

This example provides a short description of how to use the CRYPTO peripheral to
encrypt and decrypt data using AES in chaining modes (ECB, CBC, CTR) and all key sizes
(128, 192, 256) Algorithm.

For this example, a firmware is used to interface with the Crypto peripheral
in polling mode.

This example behaves as follows:

1. ECB mode :
   - AES128 ECB Encryption
   - AES192 ECB Encryption
   - AES256 ECB Encryption

   - AES128 ECB Decryption
   - AES192 ECB Decryption
   - AES256 ECB Decryption

2. CBC mode :
   - AES128 CBC Encryption
   - AES192 CBC Encryption
   - AES256 CBC Encryption

   - AES128 CBC Decryption
   - AES192 CBC Decryption
   - AES256 CBC Decryption

3. CTR mode :
   - AES128 CTR Encryption
   - AES192 CTR Encryption
   - AES256 CTR Encryption

   - AES128 CTR Decryption
   - AES192 CTR Decryption
   - AES256 CTR Decryption

The Plain data, encrypted data and decrypted data can be displayed on a PC
HyperTerminal using the USART.

The USARTx is configured as follow:
    - BaudRate = 115200 baud
    - Word Length = 8 Bits
    - One Stop Bit
    - No parity
    - Hardware flow control disabled (RTS and CTS signals)
    - Receive and transmit enabled


	Directory contents

  - CRYP/AES_modes/system_stm32f4xx.c   STM32F4xx system clock configuration file
  - CRYP/AES_modes/stm32f4xx_conf.h     Library Configuration file
  - CRYP/AES_modes/stm32f4xx_it.h       Interrupt handlers header file
  - CRYP/AES_modes/stm32f4xx_it.c       Interrupt handlers
  - CRYP/AES_modes/main.c               Main program
  - CRYP/AES_modes/main.h               Main header

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>


	Hardware and Software environment

  - This example runs on STM32F40xx/STM32F41xx, STM32F427x/STM32F437x,
    STM32F429x/STM32F439x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL (STM32F40xx/
    STM32F41xx Devices), STM32437I-EVAL (STM32F427x/STM32F437x Devices) and STM324x9I-EVAL
    (STM32F429x/STM32F439x Devices) evaluation boards and can be easily tailored to any
    other supported device and development board.

  - STM324xG-EVAL Set-up
    - Connect a null-modem female/female RS232 cable between the DB9 connector
      CN16 (USART3) and PC serial port.
       note Make sure that jumper JP22 is in position 1-2

  - STM32437I-EVAL Set-up
    - Connect a null-modem female/female RS232 cable between the DB9 connector
      CN16 (USART3) and PC serial port.
       note Make sure that jumper JP22 is in position 1-2

  - STM324x9I-EVAL Set-up
    - Connect a null-modem female/female RS232 cable between the DB9 connector
      CN8 (USART1) and PC serial port.
       note Make sure that jumper JP7 is in position 1-2

  - Hyperterminal configuration:
    - Word Length = 8 Bits
    - One Stop Bit
    - No parity
    - BaudRate = 115200 baud
    - flow control: None


	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	Encrypt and Decrypt data using DES and TDES Algorithms in All modes

	Example Description

This example provides a short description of how to use the CRYPTO peripheral to
encrypt and decrypt data using DES and TDES in all modes (ECB, CBC) Algorithm.

For this example, a firmware is used to interface with the Crypto peripheral
in polling mode.

This example is behaves as follow:
1. DES
  - DES ECB Encryption
  - DES ECB Decryption
  - DES CBC Encryption
  - DES CBC Decryption
2. TDES
  - TDES ECB Encryption
  - TDES ECB Decryption
  - TDES CBC Encryption
  - TDES CBC Decryption

The Plain data, encrypted data and decrypted data can be displayed on a PC
HyperTerminal using the USART.

The USARTx is configured as follow:
    - BaudRate = 115200 baud
    - Word Length = 8 Bits
    - One Stop Bit
    - No parity
    - Hardware flow control disabled (RTS and CTS signals)
    - Receive and transmit enabled


 Directory contents

  - CRYP/DES_TDES_modes/system_stm32f4xx.c   STM32F4xx system clock configuration file
  - CRYP/DES_TDES_modes/stm32f4xx_conf.h     Library Configuration file
  - CRYP/DES_TDES_modes/stm32f4xx_it.h       Interrupt handlers header file
  - CRYP/DES_TDES_modes/stm32f4xx_it.c       Interrupt handlers
  - CRYP/DES_TDES_modes/main.c               Main program
  - CRYP/DES_TDES_modes/main.h               Main header

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>


	Hardware and Software environment

  - This example runs on STM32F40xx/STM32F41xx, STM32F427x/STM32F437x,
    STM32F429x/STM32F439x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL (STM32F40xx/
    STM32F41xx Devices), STM32437I-EVAL (STM32F427x/STM32F437x Devices) and STM324x9I-EVAL
    (STM32F429x/STM32F439x Devices) evaluation boards and can be easily tailored to any
    other supported device and development board.

  - STM324xG-EVAL Set-up
    - Connect a null-modem female/female RS232 cable between the DB9 connector
      CN16 (USART3) and PC serial port.
       note Make sure that jumper JP22 is in position 1-2

  - STM32437I-EVAL Set-up
    - Connect a null-modem female/female RS232 cable between the DB9 connector
      CN16 (USART3) and PC serial port.
       note Make sure that jumper JP22 is in position 1-2

  - STM324x9I-EVAL Set-up
    - Connect a null-modem female/female RS232 cable between the DB9 connector
      CN8 (USART1) and PC serial port.
       note Make sure that jumper JP7 is in position 1-2

  - Hyperterminal configuration:
    - Word Length = 8 Bits
    - One Stop Bit
    - No parity
    - BaudRate = 115200 baud
    - flow control: None


	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	Encrypt and Decrypt data using TDES Algo in ECB mode, with DMA

	Example Description

This example provides a short description of how to use the CRYPTO peripheral to
encrypt and decrypt data using TDES Algorithm.

For this example, DMA is used to transfer data from memory to the CRYPTO processor
IN FIFO and also to transfer data from CRYPTO processor OUT FIFO to memory.

The data to be encrypted is a 320 bit data, which correspond to 5 TDES Blocks.

This example behaves as follow:
- TDES Encryption   (PlainData --> EncryptedData)
- TDES Decryption   (EncryptedData --> DecryptedData)

The Plain data, encrypted data and decrypted data can be displayed on a PC
HyperTerminal using the USART (CN16).

The USARTx is configured as follow:
    - BaudRate = 115200 baud
    - Word Length = 8 Bits
    - One Stop Bit
    - No parity
    - Hardware flow control disabled (RTS and CTS signals)
    - Receive and transmit enabled


	Directory contents

  - CRYP/TDES_ECBmode_DMA/system_stm32f4xx.c   STM32F4xx system clock configuration file
  - CRYP/TDES_ECBmode_DMA/stm32f4xx_conf.h     Library Configuration file
  - CRYP/TDES_ECBmode_DMA/stm32f4xx_it.h       Interrupt handlers header file
  - CRYP/TDES_ECBmode_DMA/stm32f4xx_it.c       Interrupt handlers
  - CRYP/TDES_ECBmode_DMA/main.c               Main program
  - CRYP/TDES_ECBmode_DMA/main.h               Main header

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>


	Hardware and Software environment

  - This example runs on STM32F40xx/STM32F41xx, STM32F427x/STM32F437x,
    STM32F429x/STM32F439x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL (STM32F40xx/
    STM32F41xx Devices), STM32437I-EVAL (STM32F427x/STM32F437x Devices) and STM324x9I-EVAL
    (STM32F429x/STM32F439x Devices) evaluation boards and can be easily tailored to any
    other supported device and development board.

  - STM324xG-EVAL Set-up
    - Connect a null-modem female/female RS232 cable between the DB9 connector
      CN16 (USART3) and PC serial port.
       note Make sure that jumper JP22 is in position 1-2

  - STM32437I-EVAL Set-up
    - Connect a null-modem female/female RS232 cable between the DB9 connector
      CN16 (USART3) and PC serial port.
       note Make sure that jumper JP22 is in position 1-2

  - STM324x9I-EVAL Set-up
    - Connect a null-modem female/female RS232 cable between the DB9 connector
      CN8 (USART1) and PC serial port.
       note Make sure that jumper JP7 is in position 1-2

  - Hyperterminal configuration:
    - Word Length = 8 Bits
    - One Stop Bit
    - No parity
    - BaudRate = 115200 baud
    - flow control: None


	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example

</span>
  </pre>
  </div>
  </body>
</html>

