<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:schemaLocation="http://www.w3.org/MarkUp/SCHEMA/xhtml11.xsd"
     xml:lang="en">
  <head>
    <title>Information Center for ARM</title>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <link type="text/css" rel="stylesheet" media="all" href="file://$TOOLKIT_DIR$/doc/infocenter/style/ewic.css" />
  </head>
  <body>
  <div id="topbanner"></div>
  <div id="titlebanner_small">
    <h2>Information Center for ARM</h2>
  </div>
  <div class="breadcrumb"><a href="$TOOLKIT_DIR$/doc/infocenter/index.ENU.html">Information Center for ARM</a> | EXAMPLES</div>
  <div class="mainblock">
   <h2>Example description</h2>

   <pre>  <!--Insert readme.txt-->
<span style="font-family: monospace;">
	TIM 6 Steps

	Example Description

  This example shows how to configure the TIM1 peripheral to generate 6 Steps.
  The STM32F4xx TIM1 peripheral offers the possibility to program in advance the
  configuration for the next TIM1 outputs behaviour (step) and change the configuration
  of all the channels at the same time. This operation is possible when the COM
  (commutation) event is used.
  The COM event can be generated by software by setting the COM bit in the TIM1_EGR
  register or by hardware (on TRC rising edge).
  In this example, a software COM event is generated each 100 ms: using the SysTick
  interrupt.

  In order to have a software COM event generated each 100 ms using Systick, the
  SystemCoreClock must be 144 Mhz.

  The TIM1 is configured in Timing Mode, each time a COM event occurs, a new TIM1
  configuration will be set in advance.

  The break Polarity is used at High level.

  The following Table describes the TIM1 Channels states:

              -----------------------------------------------
             | Step1 | Step2 | Step3 | Step4 | Step5 | Step6 |
   ----------------------------------------------------------
  |Channel1  |   1   |   0   |   0   |   0   |   0   |   1   |
   ----------------------------------------------------------
  |Channel1N |   0   |   0   |   1   |   1   |   0   |   0   |
   ----------------------------------------------------------
  |Channel2  |   0   |   0   |   0   |   1   |   1   |   0   |
   ----------------------------------------------------------
  |Channel2N |   1   |   1   |   0   |   0   |   0   |   0   |
   ----------------------------------------------------------
  |Channel3  |   0   |   1   |   1   |   0   |   0   |   0   |
   ----------------------------------------------------------
  |Channel3N |   0   |   0   |   0   |   0   |   1   |   1   |
   ----------------------------------------------------------

	Directory contents

  - TIM/TIM_6Steps/stm32f4xx_conf.h    Library Configuration file
  - TIM/TIM_6Steps/stm32f4xx_it.c      Interrupt handlers
  - TIM/TIM_6Steps/stm32f4xx_it.h      Interrupt handlers header file
  - TIM/TIM_6Steps/main.h              Header for main.c
  - TIM/TIM_6Steps/main.c              Main program
  - TIM/TIM_6Steps/system_stm32f4xx.c  STM32F4xx system source file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>


	Hardware and Software environment

  - This example runs on STM32F40xx/41xx and STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL(STM32F40xx/41xx Devices)
    and STM32437I-EVAL (STM32F427x/437x Devices) evaluation boards and can be easily tailored
    to any other supported device and development board.

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Connect the TIM1 pins to an oscilloscope to monitor the different waveforms:
      - TIM1_CH3  pin (PA.10)
      - TIM1_CH1N pin (PB.13)
      - TIM1_CH2  pin (PE.11)
      - TIM1_CH3N pin (PB.15)
      - TIM1_CH1  pin (PA.08)
      - TIM1_CH2N pin (PB.14)
    - Connect the TIM1 break pin TIM1_BKIN pin (PB.12) to the GND. To generate a
      break event, switch this pin level from 0V to 3.3V.


	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM PWM Output example

	Example Description

This example shows how to configure the TIM peripheral in PWM (Pulse Width Modulation)
mode.

The TIM3 input clock (TIM3CLK) is set to 4 * APB1 clock (PCLK1), since TIMPRE bit
from RCC_DCKCFGR register is set.

The APB1 clock (PCLK1) is set to HCLK / 4, since APB1 Prescaler is set to 4.

So the TIM3CLK frequency is set to SystemCoreClock, to get TIM3 counter
clock at 21 MHz the Prescaler is computed as following:
   - Prescaler = (TIM3CLK / TIM3 counter clock) - 1

SystemCoreClock is set to 168 MHz for STM32F4xx Devices.

The TIM3 is running at 30 KHz: TIM3 Frequency = TIM3 counter clock/(ARR + 1)
                                              = 21 MHz / 700 = 30 KHz
The TIM3 CCR1 register value is equal to 350, so the TIM3 Channel 1 generates a
PWM signal with a frequency equal to 30 KHz and a duty cycle equal to 50%:
TIM3 Channel1 duty cycle = (TIM3_CCR1/ TIM3_ARR + 1)* 100 = 50%

The TIM3 CCR2 register value is equal to 262, so the TIM3 Channel 2 generates a
PWM signal with a frequency equal to 30 KHz and a duty cycle equal to 37.5%:
TIM3 Channel2 duty cycle = (TIM3_CCR2/ TIM3_ARR + 1)* 100 = 37.5%

The TIM3 CCR3 register value is equal to 175, so the TIM3 Channel 3 generates a
PWM signal with a frequency equal to 30 KHz and a duty cycle equal to 25%:
TIM3 Channel3 duty cycle = (TIM3_CCR3/ TIM3_ARR + 1)* 100 = 25%

The TIM3 CCR4 register value is equal to 87, so the TIM3 Channel 4 generates a
PWM signal with a frequency equal to 30 KHz and a duty cycle equal to 12.5%:
TIM3 Channel4 duty cycle = (TIM3_CCR4/ TIM3_ARR + 1)* 100 = 12.5%

The PWM waveform can be displayed using an oscilloscope.


	Directory contents

  - TIM/TIM_PWMOutput/stm32f4xx_conf.h  Library Configuration file
  - TIM/TIM_PWMOutput/stm32f4xx_it.c    Interrupt handlers
  - TIM/TIM_PWMOutput/stm32f4xx_it.h    Interrupt handlers header file
  - TIM/TIM_PWMOutput/main.c            Main program
  - TIM/TIM_PWMOutput/system_stm32f4xx.c   STM32F4xx system clock configuration file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>

	Hardware and Software environment

  - This example runs on STM32F429x/STM32F439x Devices.

  - This example has been tested with STMicroelectronics STM324x9I-EVAL (STM32F429x/STM32F439x Devices)
    evaluation boards evaluation boards.

  - STM324x9I-EVAL Set-up
    - Connect the following pins to an oscilloscope to monitor the different
      waveforms:
        - PC.06: (TIM3_CH1)
        - PC.07: (TIM3_CH2)
        - PC.08: (TIM3_CH3)
        - PC.09: (TIM3_CH4)

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM Cascade Synchro

	Example Description

This example shows how to synchronize TIM peripherals in cascade mode.
In this example three timers are used:

Timers synchronisation in cascade mode:

1/TIM2 is configured as Master Timer:
 - PWM Mode is used
 - The TIM2 Update event is used as Trigger Output

2/TIM3 is slave for TIM2 and Master for TIM4,
 - PWM Mode is used
 - The ITR1(TIM2) is used as input trigger
 - Gated mode is used, so start and stop of slave counter
   are controlled by the Master trigger output signal(TIM2 update event).
 - The TIM3 Update event is used as Trigger Output.

3/TIM4 is slave for TIM3,
 - PWM Mode is used
 - The ITR2(TIM3) is used as input trigger
 - Gated mode is used, so start and stop of slave counter  are controlled by the
   Master trigger output signal(TIM3 update event).

The TIM2 counter clock is 84 MHz.

  The Master Timer TIM2 is running at TIM2 frequency :
  TIM2 frequency = (TIM2 counter clock)/ (TIM2 period + 1) = 328.125 KHz
  and the duty cycle = TIM2_CCR1/(TIM2_ARR + 1) = 25%.

  The TIM3 is running at:
  (TIM2 frequency)/ (TIM3 period + 1) = 82.02 KHz and a duty cycle equal
  to TIM3_CCR1/(TIM3_ARR + 1) = 25%

  The TIM4 is running at:
  (TIM3 frequency)/ (TIM4 period + 1) = 20.5 Hz and a duty cycle equal
  to TIM4_CCR1/(TIM4_ARR + 1) = 25%


	Directory contents

  - TIM/TIM_CascadeSynchro/stm32f4xx_conf.h    Library Configuration file
  - TIM/TIM_CascadeSynchro/stm32f4xx_it.c      Interrupt handlers
  - TIM/TIM_CascadeSynchro/stm32f4xx_it.h      Interrupt handlers header file
  - TIM/TIM_CascadeSynchro/main.c              Main program
  - TIM/TIM_CascadeSynchro/system_stm32f4xx.c  STM32F4xx system source file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>


	Hardware and Software environment

  - This example runs on STM32F40xx/41xx and STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL(STM32F40xx/41xx Devices)
    and STM32437I-EVAL (STM32F427x/437x Devices) evaluation boards and can be easily tailored
    to any other supported device and development board

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Connect the following pins to an oscilloscope to monitor the different
      waveforms:
        - TIM2 CH1 (PA.00)
        - TIM3 CH1 (PB.04)
        - TIM4 CH1 (PB.06)


	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM Complementary Signals

	Example Description

This example shows how to configure the TIM1 peripheral to generate three
complementary TIM1 signals, to insert a defined dead time value, to use the break
feature and to lock the desired parameters.

TIM1CLK is fixed to SystemCoreClock, the TIM1 Prescaler is equal to 0 so the
TIM1 counter clock used is SystemCoreClock (168MHz).

The objective is to generate PWM signal at 17.57 KHz:
  - TIM1_Period = (SystemCoreClock / 17570) - 1

The Three Duty cycles are computed as the following description:
The channel 1 duty cycle is set to 50% so channel 1N is set to 50%.
The channel 2 duty cycle is set to 25% so channel 2N is set to 75%.
The channel 3 duty cycle is set to 12.5% so channel 3N is set to 87.5%.
The Timer pulse is calculated as follows:
  - ChannelxPulse = DutyCycle * (TIM1_Period - 1) / 100

A dead time equal to 11/SystemCoreClock is inserted between the different
complementary signals, and the Lock level 1 is selected.
The break Polarity is used at High level.

The TIM1 waveform can be displayed using an oscilloscope.


	Directory contents

  - TIM/TIM_ComplementarySignals/stm32f4xx_conf.h    Library Configuration file
  - TIM/TIM_ComplementarySignals/stm32f4xx_it.c      Interrupt handlers
  - TIM/TIM_ComplementarySignals/stm32f4xx_it.h      Interrupt handlers header file
  - TIM/TIM_ComplementarySignals/main.c              Main program
  - TIM/TIM_ComplementarySignals/system_stm32f4xx.c  STM32F4xx system source file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>


	Hardware and Software environment

  - This example runs on STM32F40xx/41xx and STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL(STM32F40xx/41xx Devices)
    and STM32437I-EVAL (STM32F427x/437x Devices) evaluation boards and can be easily tailored
    to any other supported device and development board

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Connect the TIM1 pins to an oscilloscope to monitor the different waveforms:
      - TIM1_CH1  pin (PA.08)
      - TIM1_CH1N pin (PB.13)
      - TIM1_CH2  pin (PE.11)
      - TIM1_CH2N pin (PB.14)
      - TIM1_CH3  pin (PA.10)
      - TIM1_CH3N pin (PB.15)

    - Connect the TIM1 break pin TIM1_BKIN pin (PB.12) to the GND. To generate a
      break event, switch this pin level from 0V to 3.3V.


	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM DMA

	Example Description

  This example provides a description of how to use DMA with TIM1 Update request
  to transfer Data from memory to TIM1 Capture Compare Register 3 (CCR3).

  The following configuration values are used in this example:

    - TIM1CLK = SystemCoreClock
    - Prescaler = 0
    - TIM1 counter clock = SystemCoreClock
    - SystemCoreClock is set to 168 MHz for STM32F4xx

  The objective is to configure TIM1 channel 3 to generate complementary PWM
  (Pulse With Modulation) signal with a frequency equal to 17.57 KHz, and a variable
  duty cycle that is changed by the DMA after a specific number of Update DMA request.

  The number of this repetitive requests is defined by the TIM1 Repetition counter,
  each 3 Update Requests, the TIM1 Channel 3 Duty Cycle changes to the next new
  value defined by the aSRC_Buffer.


	Directory contents

  - TIM/TIM_DMA/stm32f4xx_conf.h      Library Configuration file
  - TIM/TIM_DMA/stm32f4xx_it.c        Interrupt handlers
  - TIM/TIM_DMA/stm32f4xx_it.h        Interrupt handlers header file
  - TIM/TIM_DMA/main.h                Header for main.c
  - TIM/TIM_DMA/main.c                Main program
  - TIM/TIM_DMA/system_stm32f4xx.c    STM32F4xx system clock configuration file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com/internet/mcu/family/141.jsp">  ST Microcontrollers </a>

	Hardware and Software environment

  - This example runs on STM32F40xx/STM32F41xx, STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL (STM32F40xx/
    STM32F41xx Devices) and STM32437I-EVAL (STM32F427x/STM32F437x Devices) evaluation
    boards and can be easily tailored to any other supported device and development
    board.

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Connect the TIM1 pins to an oscilloscope to monitor the different waveforms:
        - TIM1 CH3  (PA.10)
        - TIM1 CH3N (PB.15)

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example

===============================================================================

	TIM1 DMA Burst transfer

	Example Description

  This example shows how to update the TIM1 channel1 period and the duty cycle
  using the TIM1 DMA burst feature.

  Every update DMA request, the DMA will do 3 transfers of half words into Timer
  registers beginning from ARR register.
  On the DMA update request, 0x0FFF will be transferred into ARR, 0x0000
  will be transferred into RCR, 0x0555 will be transferred into CCR1.

  The TIM1CLK frequency is set to SystemCoreClock (Hz), to get TIM1 counter
  clock at 24 MHz the Prescaler is computed as following:
     - Prescaler = (TIM1CLK / TIM1 counter clock) - 1

  SystemCoreClock is set to 168 MHz.

  The TIM1 period is 5.8 ms: TIM1 Frequency = TIM1 counter clock/(ARR + 1)
                                             = 24 MHz / 4096 = 5.8 KHz

  The TIM1 CCR1 register value is equal to 0x555, so the TIM1 Channel 1 generates a
  PWM signal with a frequency equal to 5.8 KHz and a duty cycle equal to 33.33%:
  TIM1 Channel1 duty cycle = (TIM1_CCR1/ TIM1_ARR + 1)* 100 = 33.33%

  The PWM waveform can be displayed using an oscilloscope.

 note No need of RCR update, but we  should do it because of the ARR and CCR1
      mapping.

	Directory contents

  - TIM/TIM_DMABurst/stm32f4xx_conf.h      Library Configuration file
  - TIM/TIM_DMABurst/stm32f4xx_it.c        Interrupt handlers
  - TIM/TIM_DMABurst/stm32f4xx_it.h        Interrupt handlers header file
  - TIM/TIM_DMABurst/main.h                Header for main.c
  - TIM/TIM_DMABurst/main.c                Main program
  - TIM/TIM_DMABurst/system_stm32f4xx.c    STM32F4xx system source file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>

	Hardware and Software environment

  - This example runs on STM32F40xx/STM32F41xx, STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL (STM32F40xx/
    STM32F41xx Devices) and STM32437I-EVAL (STM32F427x/STM32F437x Devices) evaluation
    boards and can be easily tailored to any other supported device and development
    board.

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Connect the following pins to an oscilloscope to monitor the different
      waveforms:
        - TIM1 CH1  (PA.08)

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM External Trigger Synchro

	Example Description

  This example shows how to synchronize TIM peripherals in cascade mode with an
  external trigger.
  In this example three timers are used:

  1/TIM1 is configured as Master Timer:
      - Toggle Mode is used
      - The TIM1 Enable event is used as Trigger Output

  2/TIM1 is configured as Slave Timer for an external Trigger connected to TIM1
    TI2 pin (TIM1 CH2 configured as input pin):
      - The TIM1 TI2FP2 is used as Trigger Input
      - Rising edge is used to start and stop the TIM1: Gated Mode.

  3/TIM3 is slave for TIM1 and Master for TIM4,
      - Toggle Mode is used
      - The ITR1(TIM1) is used as input trigger
      - Gated mode is used, so start and stop of slave counter
        are controlled by the Master trigger output signal(TIM1 enable event).
      - The TIM3 enable event is used as Trigger Output.

  4/TIM4 is slave for TIM3,
      - Toggle Mode is used
      - The ITR2(TIM3) is used as input trigger
      - Gated mode is used, so start and stop of slave counter
        are controlled by the Master trigger output signal(TIM3 enable event).

   The TIM1CLK is fixed to 168 MHZ, the Prescaler is equal to 5 so the TIMx clock
   counter is equal to 28 MHz.
   The TIM3CLK  and TIM4CLK are fixed to 82 MHZ, the Prescaler is equal to 5
   so the TIMx clock counter is equal to 14 MHz.
   The Three Timers are running at:
   TIMx frequency = TIMx clock counter/ 2*(TIMx_Period + 1) = 189.1 KHz.

  The starts and stops of the TIM1 counters are controlled by the external trigger.
  The TIM3 starts and stops are controlled by the TIM1, and the TIM4 starts and
  stops are controlled by the TIM3.

	Directory contents

  - TIM/TIM_ExtTriggerSynchro/stm32f4xx_conf.h      Library Configuration file
  - TIM/TIM_ExtTriggerSynchro/stm32f4xx_it.c        Interrupt handlers
  - TIM/TIM_ExtTriggerSynchro/stm32f4xx_it.h        Interrupt handlers header file
  - TIM/TIM_ExtTriggerSynchro/main.h                Header for main.c
  - TIM/TIM_ExtTriggerSynchro/main.c                Main program
  - TIM/TIM_ExtTriggerSynchro/system_stm32f4xx.c    STM32F4xx system source file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>

	Hardware and Software environment

  - This example runs on STM32F40xx/STM32F41xx, STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL (STM32F40xx/
    STM32F41xx Devices) and STM32437I-EVAL (STM32F427x/STM32F437x Devices) evaluation
    boards and can be easily tailored to any other supported device and development
    board.

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Connect an external trigger, with a frequency &lt;= 40KHz, to the TIM1 CH2
      pin (PE.11). In this example the frequency is equal to 5 KHz.

    - Connect the following pins to an oscilloscope to monitor the different waveforms:
      - TIM1 CH1 (PA.08)
      - TIM3 CH1 (PC.06)
      - TIM4 CH1 (PB.06)

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM Input Capture

	Example Description

  This example shows how to use the TIM peripheral to measure the frequency of an
  external signal.

  The TIMxCLK frequency is set to SystemCoreClock /2 (Hz), the Prescaler is 0 so the
  TIM1 counter clock is SystemCoreClock (Hz)/2.

  SystemCoreClock is set to 168 MHz.

  TIM1 is configured in Input Capture Mode: the external signal is connected to
  TIM1 Channel2 used as input pin.
  To measure the frequency we use the TIM1 CC2 interrupt request, so In the
  TIM1_CC_IRQHandler routine, the frequency of the external signal is computed.
  The "TIM1Freq" variable contains the external signal frequency:
  TIM1Freq = TIM1 counter clock / Capture in Hz, where the Capture is the difference
  between two consecutive TIM1 captures.

  The minimum frequency value to measure is 2700 Hz.

	Directory contents

  - TIM/TIM_InputCapture/stm32f4xx_conf.h      Library Configuration file
  - TIM/TIM_InputCapture/stm32f4xx_it.c        Interrupt handlers
  - TIM/TIM_InputCapture/stm32f4xx_it.h        Interrupt handlers header file
  - TIM/TIM_InputCapture/main.h                Header for main.c
  - TIM/TIM_InputCapture/main.c                Main program
  - TIM/TIM_InputCapture/system_stm32f4xx.c    STM32F4xx system source file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>

	Hardware and Software environment

  - This example runs on STM32F40xx/STM32F41xx, STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL (STM32F40xx/
    STM32F41xx Devices) and STM32437I-EVAL (STM32F427x/STM32F437x Devices) evaluation
    boards and can be easily tailored to any other supported device and development
    board.

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Connect the external signal to measure to the TIM1 CH2 pin (PE.11).

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM OCActive

	Example Description

  This example shows how to configure the TIM peripheral to generate four different
  signals with four different delays.

  The TIM3CLK frequency is set to SystemCoreClock / 2 (Hz), and the objective is
  to get TIM3 counter clock at 2 KHz so the Prescaler is computed as following:
     - Prescaler = (TIM3CLK / TIM3 counter clock) - 1

  SystemCoreClock is set to 168 MHz for STM32F4xx Devices.

  The TIM3 CCR1 register value is equal to 1000:
  TIM3_CH1 delay = CCR1_Val/TIM3 counter clock  = 500 ms
  so the TIM3 Channel 1 generates a signal with a delay equal to 500 ms.

  The TIM3 CCR2 register value is equal to 500:
  TIM3_CH2 delay = CCR2_Val/TIM3 counter clock = 250 ms
  so the TIM3 Channel 2 generates a signal with a delay equal to 250 ms.

  The TIM3 CCR3 register value is equal to 250:
  TIM3_CH3 delay = CCR3_Val/TIM3 counter clock = 125 ms
  so the TIM3 Channel 3 generates a signal with a delay equal to 125 ms.

  The TIM3 CCR4 register value is equal to 125:
  TIM3_CH4 delay = CCR4_Val/TIM3 counter clock = 62.5 ms
  so the TIM3 Channel 4 generates a signal with a delay equal to 62.5 ms.

  The delay correspond to the time difference between PG.06 and  TIM3_CHx signal
  rising edges.

	Directory contents

  - TIM/TIM_OCActive/stm32f4xx_conf.h         Library Configuration file
  - TIM/TIM_OCActive/stm32f4xx_it.c           Interrupt handlers
  - TIM/TIM_OCActive/stm32f4xx_it.h           Interrupt handlers header file
  - TIM/TIM_OCActive/main.h                   Header for main.c
  - TIM/TIM_OCActive/main.c                   Main program
  - TIM/TIM_OCActive/system_stm32f4xx.c       STM32F4xx system clock configuration file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>

	Hardware and Software environment

  - This example runs on STM32F40xx/STM32F41xx, STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL (STM32F40xx/
    STM32F41xx Devices) and STM32437I-EVAL (STM32F427x/STM32F437x Devices) evaluation
    boards and can be easily tailored to any other supported device and development
    board.

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Connect the following pins to an oscilloscope to monitor the different
      waveforms:
       - Use LED1 connected to PG.06
       - PC.06 (TIM3_CH1)
       - PC.07 (TIM3_CH2)
       - PC.08 (TIM3_CH3)
       - PC.09 (TIM3_CH4)

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM OCInactive

	Example Description

  This example shows how to configure the TIM peripheral in Output Compare Inactive
  mode with the corresponding Interrupt requests for each channel.

  The TIM2CLK frequency is set to SystemCoreClock / 2 (Hz), and the objective is
  to get TIM2 counter clock at 2 KHz so the Prescaler is computed as following:
    - Prescaler = (TIM2CLK / TIM2 counter clock) - 1
  SystemCoreClock is set to 168 MHz for STM32F4xx devices

  The TIM2 CCR1 register value is equal to 1000:
  TIM2_CC1 delay = CCR1_Val/TIM2 counter clock  = 500 ms
  so the PA.00  is reset after a delay equal to 500 ms.

  The TIM2 CCR2 register value is equal to 500:
  TIM2_CC2 delay = CCR2_Val/TIM2 counter clock = 250 ms
  so the PA.01  is reset after a delay equal to 250 ms.

  The TIM2 CCR3 register value is equal to 250:
  TIM2_CC3 delay = CCR3_Val/TIM2 counter clock = 125 ms
  so the PA.02  is reset after a delay equal to 125 ms.

  The TIM2 CCR4 register value is equal to 125:
  TIM2_CC4 delay = CCR4_Val/TIM2 counter clock = 62.5 ms
  so the PA.03  is reset after a delay equal to 62.5 ms.

  While the counter is lower than the Output compare registers values, which
  determines the Output delay, the PG.06, PG.08, PI.09 and PC.07 pin are turned on.

  When the counter value reaches the Output compare registers values, the Output
  Compare interrupts are generated and, in the handler routine, these pins are turned off.

	Directory contents

  - TIM/TIM_OCInactive/stm32f4xx_conf.h       Library Configuration file
  - TIM/TIM_OCInactive/stm32f4xx_it.c         Interrupt handlers
  - TIM/TIM_OCInactive/stm32f4xx_it.h         Interrupt handlers header file
  - TIM/TIM_OCInactive/main.h                 Header for main.c
  - TIM/TIM_OCInactive/main.c                 Main program
  - TIM/TIM_OCInactive/system_stm32f4xx.c     STM32F4xx system clock configuration file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>

	Hardware and Software environment

  - This example runs on STM32F40xx/STM32F41xx, STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL (STM32F40xx/
    STM32F41xx Devices) and STM32437I-EVAL (STM32F427x/STM32F437x Devices) evaluation
    boards and can be easily tailored to any other supported device and development
    board.

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Use LED1, LED2, LED3 and LED4 connected respectively to PG.06, PG.08, PI.09
      and PC.07 pins and connect them an oscilloscope to monitor the different
      waveforms.

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM OCToggle

	Example Description

  This example shows how to configure the TIM3 peripheral to generate four different
  signals with four different frequencies.

  The TIM3CLK frequency is set to SystemCoreClock / 2 (Hz), and we want to get TIM3
  counter clock at 21 MHz so the Prescaler is computed as following:
    - Prescaler = (TIM3CLK / TIM3 counter clock) - 1
  SystemCoreClock is set to 168 MHz for STM32F4xx devices

  The TIM3 CCR1 register value is equal to 40961:
  CC1 update rate = TIM3 counter clock / CCR1_Val = 512.68 Hz,
  so the TIM3 Channel 1 generates a periodic signal with a frequency equal to 256.35 Hz.

  The TIM3 CCR2 register is equal to 20480:
  CC2 update rate = TIM3 counter clock / CCR2_Val = 1025.39 Hz
  so the TIM3 channel 2 generates a periodic signal with a frequency equal to 512.7 Hz.

  The TIM3 CCR3 register is equal to 10240:
  CC3 update rate = TIM3 counter clock / CCR3_Val = 2050.8 Hz
  so the TIM3 channel 3 generates a periodic signal with a frequency equal to 1025.4 Hz.

  The TIM3 CCR4 register is equal to 5120:
  CC4 update rate = TIM3 counter clock / CCR4_Val =  4101.56 Hz
  so the TIM3 channel 4 generates a periodic signal with a frequency equal to 2050.78 Hz.


	Directory contents

  - TIM/TIM_OCToggle/stm32f4xx_conf.h       Library Configuration file
  - TIM/TIM_OCToggle/stm32f4xx_it.c         Interrupt handlers
  - TIM/TIM_OCToggle/stm32f4xx_it.h         Interrupt handlers header file
  - TIM/TIM_OCToggle/main.h                 Header for main.c
  - TIM/TIM_OCToggle/main.c                 Main program
  - TIM/TIM_OCToggle/system_stm32f4xx.c     STM32F4xx system clock configuration file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>

	Hardware and Software environment

  - This example runs on STM32F40xx/STM32F41xx, STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL (STM32F40xx/
    STM32F41xx Devices) and STM32437I-EVAL (STM32F427x/STM32F437x Devices) evaluation
    boards and can be easily tailored to any other supported device and development
    board.

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Connect the TIM3 pins to an oscilloscope to monitor the different waveforms:
       - PC.06 (TIM3_CH1)
       - PC.07 (TIM3_CH2)
       - PC.08 (TIM3_CH3)
       - PC.09 (TIM3_CH4)

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM One Pulse example

	Example Description

  This example shows how to use the TIM peripheral to generate a One pulse Mode
  after a Rising edge of an external signal is received in Timer Input pin.

  TIM2CLK = SystemCoreClock/2, we want to get TIM2 counter clock at 42 MHz:
             - Prescaler = (TIM2CLK / TIM2 counter clock) - 1

  SystemCoreClock is set to 168 MHz.

  The Autoreload value is 65535 (TIM4->ARR), so the maximum frequency value to
  trigger the TIM4 input is 42000000/65535 = 641 Hz.

  The TIM4 is configured as follows:
  The One Pulse mode is used, the external signal is connected to TIM4 CH2 pin (PB.07),
  the rising edge is used as active edge, the One Pulse signal is output
  on TIM4_CH1 (PB.06).

  The TIM_Pulse defines the delay value, the delay value is fixed to:
  delay =  CCR1/TIM4 counter clock = 16383 / 42000000 = 390 us.
  The (TIM_Period - TIM_Pulse) defines the One Pulse value, the pulse value is fixed to:
  One Pulse value = (TIM_Period - TIM_Pulse)/TIM4 counter clock
                  = (65535 - 16383) / 42000000 = 1.170 ms.

	Directory contents

  - TIM/TIM_OnePulse/stm32f4xx_conf.h      Library Configuration file
  - TIM/TIM_OnePulse/stm32f4xx_it.c        Interrupt handlers
  - TIM/TIM_OnePulse/stm32f4xx_it.h        Interrupt handlers header file
  - TIM/TIM_OnePulse/main.h                Header for main.c
  - TIM/TIM_OnePulse/main.c                Main program
  - TIM/TIM_OnePulse/system_stm32f4xx.c    STM32F4xx system source file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>

	Hardware and Software environment

  - This example runs on STM32F40xx/STM32F41xx, STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL (STM32F40xx/
    STM32F41xx Devices) and STM32437I-EVAL (STM32F427x/STM32F437x Devices) evaluation
    boards and can be easily tailored to any other supported device and development
    board.

  - STM324xG-EVAL/STM32437I-EVAL Set-up
   - Connect the external signal to the TIM4_CH2 pin (PB.07)
   - Connect the TIM4_CH1 (PB.06) pin to an oscilloscope to monitor the waveform.

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM ParallelSynchro

	Example Description

This example shows how to synchronize TIM peripherals in parallel mode.
In this example three timers are used:

Timers synchronisation in parallel mode:

1/TIM2 is configured as Master Timer:
   - PWM Mode is used
   - The TIM2 Update event is used as Trigger Output

2/TIM3 and TIM4 are slaves for TIM2,
   - PWM Mode is used
   - The ITR1(TIM2) is used as input trigger for both slaves
   - Gated mode is used, so starts and stops of slaves counters are controlled
     by the Master trigger output signal(update event).

The TIM2 counter clock is 84 MHz.

  The Master Timer TIM2 is running at TIM2 frequency:
  TIM2 frequency = TIM2 counter clock/ (TIM2 period + 1) = 328.125 KHz
  and the duty cycle is equal to TIM2_CCR1/(TIM2_ARR + 1) = 25%.

  The TIM3 is running at:
  (TIM2 frequency)/ (TIM3 period + 1) = 32.815 KHz and a duty cycle equal to
  TIM3_CCR1/(TIM3_ARR + 1) = 30%

  The TIM4 is running at:
  (TIM2 frequency)/ (TIM4 period + 1) = 65.630 KHz and a duty cycle equal to
  TIM4_CCR1/(TIM4_ARR + 1) = 60%

	Directory contents

  - TIM/TIM_ParallelSynchro/stm32f4xx_conf.h    Library Configuration file
  - TIM/TIM_ParallelSynchro/stm32f4xx_it.c      Interrupt handlers
  - TIM/TIM_ParallelSynchro/stm32f4xx_it.h      Interrupt handlers header file
  - TIM/TIM_ParallelSynchro/main.c              Main program
  - TIM/TIM_ParallelSynchro/system_stm32f4xx.c  STM32F4xx system source file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>

	Hardware and Software environment

  - This example runs on STM32F40xx/41xx and STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL(STM32F40xx/41xx Devices)
    and STM32437I-EVAL (STM32F427x/437x Devices) evaluation boards and can be easily tailored
    to any other supported device and development board

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Connect the pins to an oscilloscope to monitor the different waveforms:
      - TIM2 CH1 (PA.00)
      - TIM3 CH1 (PC.06)
      - TIM4 CH1 (PB.06)

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM PWMInput

	Example Description

This example shows how to use the TIM peripheral to measure the frequency and
duty cycle of an external signal.

The TIMxCLK frequency is set to SystemCoreClock/4 (Hz), the Prescaler is 0 so the
counter clock is SystemCoreClock/2 (Hz).
SystemCoreClock is set to 168 MHz fro STM32F4xx Devices.

TIM4 is configured in PWM Input Mode: the external signal is connected to
TIM4 Channel2 used as input pin.
To measure the frequency and the duty cycle we use the TIM4 CC2 interrupt request,
so In the TIM4_IRQHandler routine, the frequency and the duty cycle of the external
signal are computed.
The "Frequency" variable contains the external signal frequency:
TIM4 counter clock = SystemCoreClock / 2,
Frequency = TIM4 counter clock / TIM4_CCR2 in Hz,
The "DutyCycle" variable contains the external signal duty cycle:
DutyCycle = (TIM4_CCR1*100)/(TIM4_CCR2) in %.

The minimum frequency value to measure is 915 Hz (TIM4 counter clock / CCR MAX).

	Directory contents

  - TIM/TIM_PWMInput/stm32f4xx_conf.h     Library Configuration file
  - TIM/TIM_PWMInput/stm32f4xx_it.c       Interrupt handlers
  - TIM/TIM_PWMInput/stm32f4xx_it.h       Interrupt handlers header file
  - TIM/TIM_PWMInput/main.c               Main program
  - TIM/TIM_PWMInput/system_stm32f4xx.c   STM32F4xx system clock configuration file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>

	Hardware and Software environment

  - This example runs on STM32F40xx/41xx and STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL(STM32F40xx/41xx Devices)
    and STM32437I-EVAL (STM32F427x/437x Devices) evaluation boards and can be easily tailored
    to any other supported device and development board

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Connect the external signal to measure to the TIM4 CH2 pin (PB.07).

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM PWMOutput

	Example Description

This example shows how to configure the TIM peripheral in PWM (Pulse Width Modulation)
mode.

The TIM3CLK frequency is set to SystemCoreClock / 2 (Hz), to get TIM3 counter
clock at 21 MHz the Prescaler is computed as following:
   - Prescaler = (TIM3CLK / TIM3 counter clock) - 1

SystemCoreClock is set to 168 MHz for STM32F4xx Devices.

The TIM3 is running at 30 KHz: TIM3 Frequency = TIM3 counter clock/(ARR + 1)
                                              = 21 MHz / 666 = 31.530 KHz
The TIM3 CCR1 register value is equal to 333, so the TIM3 Channel 1 generates a
PWM signal with a frequency equal to 30 KHz and a duty cycle equal to 50%:
TIM3 Channel1 duty cycle = (TIM3_CCR1/ TIM3_ARR + 1)* 100 = 50%

The TIM3 CCR2 register value is equal to 249, so the TIM3 Channel 2 generates a
PWM signal with a frequency equal to 30 KHz and a duty cycle equal to 37.5%:
TIM3 Channel2 duty cycle = (TIM3_CCR2/ TIM3_ARR + 1)* 100 = 37.5%

The TIM3 CCR3 register value is equal to 166, so the TIM3 Channel 3 generates a
PWM signal with a frequency equal to 30 KHz and a duty cycle equal to 25%:
TIM3 Channel3 duty cycle = (TIM3_CCR3/ TIM3_ARR + 1)* 100 = 25%

The TIM3 CCR4 register value is equal to 83, so the TIM3 Channel 4 generates a
PWM signal with a frequency equal to 30 KHz and a duty cycle equal to 12.5%:
TIM3 Channel4 duty cycle = (TIM3_CCR4/ TIM3_ARR + 1)* 100 = 12.5%

The PWM waveform can be displayed using an oscilloscope.


	Directory contents

  - TIM/TIM_PWMOutput/stm32f4xx_conf.h  Library Configuration file
  - TIM/TIM_PWMOutput/stm32f4xx_it.c    Interrupt handlers
  - TIM/TIM_PWMOutput/stm32f4xx_it.h    Interrupt handlers header file
  - TIM/TIM_PWMOutput/main.c            Main program
  - TIM/TIM_PWMOutput/system_stm32f4xx.c   STM32F4xx system clock configuration file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>

	Hardware and Software environment

  - This example runs on STM32F40xx/41xx and STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL(STM32F40xx/41xx Devices)
    and STM32437I-EVAL (STM32F427x/437x Devices) evaluation boards and can be easily tailored
    to any other supported device and development board

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Connect the following pins to an oscilloscope to monitor the different
      waveforms:
        - PC.06: (TIM3_CH1)
        - PC.07: (TIM3_CH2)
        - PC.08: (TIM3_CH3)
        - PC.09: (TIM3_CH4)

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM Synchro

	Example Description

This example shows how to synchronize TIM1 and Timers (TIM3 and TIM4) in parallel mode.

Timers synchronisation in parallel mode:

1/ TIM1 is configured as Master Timer:
   - PWM Mode is used
   - The TIM1 Update event is used as Trigger Output

2/ TIM3 and TIM4 are slaves for TIM1,
   - PWM Mode is used
   - The ITR0(TIM1) is used as input trigger for both slaves
   - Gated mode is used, so starts and stops of slaves counters
     are controlled by the Master trigger output signal(update event).

The TIM1 counter clock is 168 MHz.

  The Master Timer TIM1 is running at:
  TIM1 frequency = TIM1 counter clock / (TIM1_Period + 1) = 656 KHz
  and the duty cycle is equal to: TIM1_CCR1/(TIM1_ARR + 1) = 50%

  The TIM3 is running at:
  (TIM1 frequency)/ ((TIM3 period +1)* (Repetition_Counter+1)) = 43.730 KHz and
  a duty cycle equal to TIM3_CCR1/(TIM3_ARR + 1) = 33.3%

  The TIM4 is running at:
  (TIM1 frequency)/ ((TIM4 period +1)* (Repetition_Counter+1)) = 65.600 KHz and
  a duty cycle equal to TIM4_CCR1/(TIM4_ARR + 1) = 50%


	Directory contents

  - TIM/TIM_Synchro/stm32f4xx_conf.h    Library Configuration file
  - TIM/TIM_Synchro/stm32f4xx_it.c      Interrupt handlers
  - TIM/TIM_Synchro/stm32f4xx_it.h      Interrupt handlers header file
  - TIM/TIM_Synchro/main.c              Main program
  - TIM/TIM_Synchro/system_stm32f4xx.c  STM32F4xx system source file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>

	Hardware and Software environment

  - This example runs on STM32F40xx/41xx and STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL(STM32F40xx/41xx Devices)
    and STM32437I-EVAL (STM32F427x/437x Devices) evaluation boards and can be easily tailored
    to any other supported device and development board

  - STM324xG-EVAL/STM32437I-EVAL Set-up
   - Connect the following pins to an oscilloscope to monitor the different waveforms:
      - TIM1 CH1 (PA.08)
      - TIM3 CH1 (PC.06)
      - TIM4 CH1 (PB.06)

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM10 PWMOutput

	Example Description

This example shows how to configure the TIM peripheral in PWM (Pulse Width Modulation)
mode.

The TIM10CLK frequency is set to SystemCoreClock(Hz), to get TIM10 counter
clock at 21 MHz the Prescaler is computed as following:
   - Prescaler = (TIM10CLK / TIM10 counter clock) - 1

SystemCoreClock is set to 168 MHz for STM32F4xx Devices.

The TIM10 is running at 31.530 KHz: TIM10 Frequency = TIM10 counter clock/(ARR + 1)
                                                = 21 MHz / 666 = 31.530 KHz

The TIM10 CCR1 register value is equal to 333, so the TIM10 Channel 1 generates a
PWM signal with a frequency equal to 30 KHz and a duty cycle equal to 50%:

TIM10 Channel1 duty cycle = (TIM10_CCR1/ TIM10_ARR + 1)* 100 = 50%

The PWM waveform can be displayed using an oscilloscope.

	Directory contents

  - TIM/TIM_TIM10PWMOutput/stm32f4xx_conf.h     Library Configuration file
  - TIM/TIM_TIM10PWMOutput/stm32f4xx_it.c       Interrupt handlers
  - TIM/TIM_TIM10PWMOutput/stm32f4xx_it.h       Interrupt handlers header file
  - TIM/TIM_TIM10PWMOutput/main.c               Main program
  - TIM/TIM_TIM10PWMOutput/system_stm32f4xx.c   STM32F4xx system clock configuration file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>

	Hardware and Software environment

  - This example runs on STM32F40xx/41xx and STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL(STM32F40xx/41xx Devices)
    and STM32437I-EVAL (STM32F427x/437x Devices) evaluation boards and can be easily tailored
    to any other supported device and development board

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Connect the following pin to an oscilloscope PF.06: (TIM10_CH1)

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM TIM9 OCToggle

	Example Description

This example shows how to configure the TIM9 peripheral to generate four different
signals with Two different frequencies.

The TIM9CLK frequency is set to SystemCoreClock (Hz), and we want to get TIM9
counter clock at 15 MHz so the Prescaler is computed as following:
   - Prescaler = (TIM9CLK / TIM9 counter clock) - 1

SystemCoreClock is set to 168 MHz for STM32F4xx devices

The TIM9 CCR1 register value is equal to 40961:
CC1 update rate = TIM9 counter clock / CCR1_Val = 366.2 Hz,
so the TIM9 Channel 1 generates a periodic signal with a frequency equal to 183.1 Hz.

The TIM9 CCR2 register is equal to 20480:
CC2 update rate = TIM9 counter clock / CCR2_Val = 732.4 Hz
so the TIM9 channel 2 generates a periodic signal with a frequency equal to 366.3 Hz.

	Directory contents

  - TIM/TIM_TIM9OCToggle/stm32f4xx_conf.h     Library Configuration file
  - TIM/TIM_TIM9OCToggle/stm32f4xx_it.c       Interrupt handlers
  - TIM/TIM_TIM9_OCToggle/stm32f4xx_it.h       Interrupt handlers header file
  - TIM/TIM_TIM9OCToggle/main.c               Main program
  - TIM/TIM_TIM9OCToggle/system_stm32f4xx.c   STM32F4xx system clock configuration file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>

	Hardware and Software environment

  - This example runs on STM32F40xx/41xx and STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL(STM32F40xx/41xx Devices)
    and STM32437I-EVAL (STM32F427x/437x Devices) evaluation boards and can be easily tailored
    to any other supported device and development board

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Connect the TIM9 pins to an oscilloscope to monitor the different waveforms:
       - PA.02 (TIM9_CH1)
       - PA.03 (TIM9_CH2)

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example


===============================================================================


	TIM TimeBase

	Example Description

This example shows how to configure the TIM peripheral in Output Compare Timing
mode with the corresponding Interrupt requests for each channel in order to generate
4 different time bases.

The TIM3CLK frequency is set to SystemCoreClock / 2 (Hz), to get TIM3 counter
clock at 6 MHz so the Prescaler is computed as following:
   - Prescaler = (TIM3CLK / TIM3 counter clock) - 1

SystemCoreClock is set to 168MHz for STM32F4xx Devices.

The TIM3 CC1 register value is equal to 40961,
CC1 update rate = TIM3 counter clock / CCR1_Val = 146.48 Hz,
so the TIM3 Channel 1 generates an interrupt each 6.8ms

The TIM3 CC2 register is equal to 27309,
CC2 update rate = TIM3 counter clock / CCR2_Val = 219.7 Hz
so the TIM3 Channel 2 generates an interrupt each 4.55ms

The TIM3 CC3 register is equal to 13654,
CC3 update rate = TIM3 counter clock / CCR3_Val = 439.4Hz
so the TIM3 Channel 3 generates an interrupt each 2.27ms

The TIM3 CC4 register is equal to 6826,
CC4 update rate = TIM3 counter clock / CCR4_Val =  878.9 Hz
so the TIM3 Channel 4 generates an interrupt each 1.13ms.

When the counter value reaches the Output compare registers values, the Output
Compare interrupts are generated and, in the handler routine, 4 pins(PG.06, PG.08,
PI.09 and PC.07) are toggled with the following frequencies:

- PG.06: 73.24Hz (CC1)
- PG.08: 109.8Hz (CC2)
- PI.09: 219.7Hz (CC3)
- PC.07: 439.4Hz (CC4)

	Directory contents

  - TIM/TIM_TimeBase/stm32f4xx_conf.h     Library Configuration file
  - TIM/TIM_TimeBase/stm32f4xx_it.c       Interrupt handlers
  - TIM/TIM_TimeBase/stm32f4xx_it.h       Interrupt handlers header file
  - TIM/TIM_TimeBase/main.c               Main program
  - TIM/TIM_TimeBase/main.h               Main header file
  - TIM/TIM_TimeBase/system_stm32f4xx.c   STM32F4xx system clock configuration file

 note The "system_stm32f4xx.c" is generated by an automatic clock configuration
      tool and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F4xx_Clock_Configuration_V1.1.0.xls"
      provided with the AN3988 package available on <a href="http://www.st.com">ST Website</a>

	Hardware and Software environment

  - This example runs on STM32F40xx/41xx and STM32F427x/STM32F437x Devices.

  - This example has been tested with STMicroelectronics STM324xG-EVAL(STM32F40xx/41xx Devices)
    and STM32437I-EVAL (STM32F427x/437x Devices) evaluation boards and can be easily tailored
    to any other supported device and development board

  - STM324xG-EVAL/STM32437I-EVAL Set-up
    - Use LED1, LED2, LED3 and LED4 connected respectively to PG.06, PG.08, PI.09
      and PC.07 pins and connect them on an oscilloscope to show the different
      Time Base signals.

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F4xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Rebuild all files and load your image into target memory
 - Run the example

</span>
  </pre>
  </div>
  </body>
</html>

